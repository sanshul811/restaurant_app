{"ast":null,"code":"var _jsxFileName = \"E:\\\\django_hotel_consumer\\\\gs1\\\\my-app\\\\src\\\\Confirmation.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext, useEffect } from 'react';\nimport Navbar from './Nav';\nimport { AppContext } from './context';\nimport ConfirmationCard from './ConfirmationCard';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Confirmation() {\n  _s();\n  // const data=useGlobalContext();\n  const storedItems = JSON.parse(localStorage.getItem('items'));\n  const myParam = parseInt(JSON.parse(localStorage.getItem('myParam')));\n  const [products, setProducts] = useState(storedItems);\n  console.log(\"confirmation\");\n  function changeList(id, command) {\n    const json = JSON.stringify(products);\n    const newArray = JSON.parse(json);\n    var i;\n    var val;\n    for (i = 0; i < newArray.length; i++) {\n      if (newArray[i].id === id) {\n        break;\n      }\n    }\n    if (command === \"Add\") {\n      newArray[i].count++;\n      newArray[i].cost = newArray[i].permanent_cost * newArray[i].count;\n      setProducts(newArray);\n    } else {\n      if (newArray[i].count === 1) {\n        newArray.splice(i, 1);\n        setProducts(newArray);\n      } else {\n        newArray[i].count--;\n        newArray[i].cost = newArray[i].permanent_cost * newArray[i].count;\n        setProducts(newArray);\n      }\n    }\n  }\n  function placeOrder(event) {\n    console.log(storedItems);\n    var i;\n    for (i = 0; i < storedItems.length; i++) {\n      print(storedItems[i]);\n      axios.post('http://127.0.0.1:8000/order/', {\n        item: storedItems[i].id,\n        dish_name: storedItems[i].title,\n        table: myParam,\n        quantity: storedItems[i].count,\n        cost: storedItems[i].cost\n      }).then(response => {\n        console.log(response);\n      }, error => {\n        console.log(error);\n      });\n    }\n    setProducts([]);\n    // localStorage.clear();\n    localStorage.removeItem(\"items\");\n    console.log(\"Order Placed\");\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), products.map(product => /*#__PURE__*/_jsxDEV(ConfirmationCard, {\n      id: product.id,\n      count: product.count,\n      title: product.title,\n      changeList: changeList,\n      cost: product.cost\n    }, product.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"place_order_button\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary\",\n        onClick: placeOrder,\n        children: \"Place Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n}\n_s(Confirmation, \"bbvkDNOWP0V/Sdjth9lcKTsbDSI=\");\n_c = Confirmation;\nexport default Confirmation;\nvar _c;\n$RefreshReg$(_c, \"Confirmation\");","map":{"version":3,"names":["React","useState","useContext","useEffect","Navbar","AppContext","ConfirmationCard","axios","Confirmation","storedItems","JSON","parse","localStorage","getItem","myParam","parseInt","products","setProducts","console","log","changeList","id","command","json","stringify","newArray","i","val","length","count","cost","permanent_cost","splice","placeOrder","event","print","post","item","dish_name","title","table","quantity","then","response","error","removeItem","map","product"],"sources":["E:/django_hotel_consumer/gs1/my-app/src/Confirmation.js"],"sourcesContent":["import React,{useState,useContext,useEffect} from 'react'\r\nimport Navbar from './Nav';\r\nimport { AppContext } from './context';\r\nimport ConfirmationCard from './ConfirmationCard';\r\nimport axios from 'axios';\r\nfunction Confirmation() {\r\n  // const data=useGlobalContext();\r\n  const storedItems = JSON.parse(localStorage.getItem('items'))\r\n  const myParam = parseInt(JSON.parse(localStorage.getItem('myParam')))\r\n \r\n  \r\n  const[products,setProducts]=useState(storedItems);\r\n   console.log(\"confirmation\")\r\n \r\n   \r\n  \r\n   function changeList(id,command)\r\n   {\r\n    const json = JSON.stringify(products);\r\n    const newArray = JSON.parse(json);\r\n    var i;\r\n    var val;\r\n\r\n    for(i=0;i<newArray.length;i++)\r\n    {\r\n      if(newArray[i].id===id)\r\n      {\r\n        \r\n        break;\r\n      }\r\n    }\r\n    \r\n   \r\n    if(command===\"Add\")\r\n    {\r\n      \r\n       newArray[i].count++;\r\n       newArray[i].cost=newArray[i].permanent_cost*newArray[i].count\r\n       setProducts(newArray);\r\n       \r\n\r\n    }\r\n    else\r\n    {\r\n      if(newArray[i].count===1)\r\n      {\r\n        \r\n         newArray.splice(i,1);\r\n         setProducts(newArray);\r\n      } \r\n      else\r\n      {\r\n        \r\n        newArray[i].count--;\r\n        newArray[i].cost=newArray[i].permanent_cost*newArray[i].count\r\n        setProducts(newArray);\r\n      }\r\n    }\r\n    \r\n      \r\n\r\n   }\r\n  function placeOrder(event)\r\n  {\r\n    \r\n    \r\n    console.log(storedItems)\r\n    var i;\r\n    for(i=0;i<storedItems.length;i++)\r\n    {\r\n      print(storedItems[i])\r\n      axios.post('http://127.0.0.1:8000/order/', {\r\n      item: storedItems[i].id,\r\n      dish_name: storedItems[i].title,\r\n      table:myParam,\r\n      quantity:storedItems[i].count,\r\n      cost:storedItems[i].cost\r\n      }).then((response) => {\r\n        console.log(response);\r\n        }, (error) => {\r\n        console.log(error);\r\n      });\r\n\r\n    }\r\n\r\n    setProducts([]);\r\n    // localStorage.clear();\r\n    localStorage.removeItem(\"items\")\r\n    \r\n    \r\n    \r\n    console.log(\"Order Placed\")\r\n\r\n  } \r\n  \r\n   \r\n\r\n  return (\r\n    <div className=\"App\">\r\n\r\n      <header className=\"App-header\">\r\n      </header>\r\n      {products.map((product) => (\r\n        <ConfirmationCard key={product.id} id={product.id} count={product.count} title={product.title}changeList={changeList} cost={product.cost}/>\r\n      ))}\r\n      <div className='place_order_button'>\r\n      <button type=\"button\" className=\"btn btn-primary\" onClick={placeOrder}>Place Order</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Confirmation;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}