{"ast":null,"code":"var _jsxFileName = \"E:\\\\django_hotel_consumer\\\\gs1\\\\my-app\\\\src\\\\Confirmation.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext, useEffect } from 'react';\nimport Navbar from './Nav';\nimport { AppContext } from './context';\nimport ConfirmationCard from './ConfirmationCard';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Confirmation() {\n  _s();\n  // const data=useGlobalContext();\n  const storedItems = JSON.parse(localStorage.getItem('items'));\n  const [products, setProducts] = useState(storedItems);\n  console.log(\"confirmation\");\n  function changeList(id, command) {\n    const json = JSON.stringify(products);\n    const newArray = JSON.parse(json);\n    const tempjson = JSON.stringify(storedItems);\n    const tempArray = JSON.parse(tempjson);\n    var i;\n    var val;\n    for (i = 0; i < newArray.length; i++) {\n      if (newArray[i].id === id) {\n        break;\n      }\n    }\n    var index;\n    for (index = 0; index < tempArray.length; index++) {\n      if (tempArray[index].id === id) {\n        val = tempArray[index].cost;\n        break;\n      }\n    }\n    if (command === \"Add\") {\n      newArray[i].count++;\n      newArray[i].cost = val * newArray[i].count;\n      setProducts(newArray);\n    } else {\n      if (newArray[i].count === 1) {\n        newArray.splice(i, 1);\n        setProducts(newArray);\n      } else {\n        newArray[i].count--;\n        newArray[i].cost = val * newArray[i].count;\n        setProducts(newArray);\n      }\n    }\n  }\n  function placeOrder(event) {\n    console.log(storedItems);\n    var i;\n    for (i = 0; i < storedItems.length; i++) {\n      axios.post('http://127.0.0.1:8000/order/', {\n        item: storedItems[i].id,\n        dish_name: storedItems[i].title,\n        table: 1,\n        quantity: storedItems[i].count\n      }).then(response => {\n        console.log(response);\n      }, error => {\n        console.log(error);\n      });\n    }\n    setProducts([]);\n    localStorage.clear();\n    console.log(\"Order Placed\");\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), products.map(product => /*#__PURE__*/_jsxDEV(ConfirmationCard, {\n      id: product.id,\n      count: product.count,\n      title: product.title,\n      changeList: changeList,\n      cost: product.cost\n    }, product.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"place_order_button\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary\",\n        onClick: placeOrder,\n        children: \"Place Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n}\n_s(Confirmation, \"bbvkDNOWP0V/Sdjth9lcKTsbDSI=\");\n_c = Confirmation;\nexport default Confirmation;\nvar _c;\n$RefreshReg$(_c, \"Confirmation\");","map":{"version":3,"names":["React","useState","useContext","useEffect","Navbar","AppContext","ConfirmationCard","axios","Confirmation","storedItems","JSON","parse","localStorage","getItem","products","setProducts","console","log","changeList","id","command","json","stringify","newArray","tempjson","tempArray","i","val","length","index","cost","count","splice","placeOrder","event","post","item","dish_name","title","table","quantity","then","response","error","clear","map","product"],"sources":["E:/django_hotel_consumer/gs1/my-app/src/Confirmation.js"],"sourcesContent":["import React,{useState,useContext,useEffect} from 'react'\r\nimport Navbar from './Nav';\r\nimport { AppContext } from './context';\r\nimport ConfirmationCard from './ConfirmationCard';\r\nimport axios from 'axios';\r\nfunction Confirmation() {\r\n  // const data=useGlobalContext();\r\n  const storedItems = JSON.parse(localStorage.getItem('items'))\r\n  \r\n  const[products,setProducts]=useState(storedItems);\r\n   console.log(\"confirmation\")\r\n \r\n   \r\n  \r\n   function changeList(id,command)\r\n   {\r\n    const json = JSON.stringify(products);\r\n    const newArray = JSON.parse(json);\r\n    const tempjson=JSON.stringify(storedItems);\r\n    const tempArray=JSON.parse(tempjson)\r\n    var i;\r\n    var val;\r\n\r\n    for(i=0;i<newArray.length;i++)\r\n    {\r\n      if(newArray[i].id===id)\r\n      {\r\n        \r\n        break;\r\n      }\r\n    }\r\n    var index;\r\n    for(index=0;index<tempArray.length;index++)\r\n    {\r\n      if(tempArray[index].id===id)\r\n      {\r\n        val=tempArray[index].cost\r\n        break;\r\n      }\r\n    }\r\n    \r\n    if(command===\"Add\")\r\n    {\r\n      \r\n       newArray[i].count++;\r\n       newArray[i].cost=val*newArray[i].count\r\n       setProducts(newArray);\r\n       \r\n\r\n    }\r\n    else\r\n    {\r\n      if(newArray[i].count===1)\r\n      {\r\n        \r\n         newArray.splice(i,1);\r\n         setProducts(newArray);\r\n      } \r\n      else\r\n      {\r\n        \r\n        newArray[i].count--;\r\n        newArray[i].cost=val*newArray[i].count\r\n        setProducts(newArray);\r\n      }\r\n    }\r\n    \r\n      \r\n\r\n   }\r\n  function placeOrder(event)\r\n  {\r\n    \r\n    \r\n    console.log(storedItems)\r\n    var i;\r\n    for(i=0;i<storedItems.length;i++)\r\n    {\r\n      axios.post('http://127.0.0.1:8000/order/', {\r\n      item: storedItems[i].id,\r\n      dish_name: storedItems[i].title,\r\n      table:1,\r\n      quantity:storedItems[i].count\r\n      }).then((response) => {\r\n        console.log(response);\r\n        }, (error) => {\r\n        console.log(error);\r\n      });\r\n\r\n    }\r\n\r\n    setProducts([]);\r\n    localStorage.clear();\r\n    \r\n    \r\n    \r\n    console.log(\"Order Placed\")\r\n\r\n  } \r\n  \r\n   \r\n\r\n  return (\r\n    <div className=\"App\">\r\n\r\n      <header className=\"App-header\">\r\n      </header>\r\n      {products.map((product) => (\r\n        <ConfirmationCard key={product.id} id={product.id} count={product.count} title={product.title}changeList={changeList} cost={product.cost}/>\r\n      ))}\r\n      <div className='place_order_button'>\r\n      <button type=\"button\" className=\"btn btn-primary\" onClick={placeOrder}>Place Order</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Confirmation;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}